<div class="popup-container">
  <ion-button fill="clear" color="medium" (click)="close.emit()" class="close-icon-btn">
    <ion-icon class="close-icon" name="close-circle-outline"></ion-icon>
  </ion-button>

  <img [src]="getImage()" alt="Φωτογραφία" class="popup-image" />

  <div class="popup-content">
    <h2>{{ destination.name }}</h2>

    <div class="distance" *ngIf="distanceMeters !== null && !navigationActive && !hasArrived">
      {{ distanceMeters }} m
    </div>

    <div class="popup-buttons">
      <ion-button
        *ngIf="!hasArrived"
        [color]="navigationActive ? 'danger' : 'primary'"
        [disabled]="!routeReady"
        (click)="navigationActive ? cancel.emit() : navigate.emit()">

        <ion-icon
          [name]="navigationActive ? 'close-circle-outline' : 'navigate-circle-outline'"
          slot="start">
        </ion-icon>

        {{ navigationActive ? 'ΑΚΥΡΩΣΗ' : 'ΞΕΚΙΝΑ' }}
      </ion-button>

      <ion-button
        *ngIf="hasArrived"
        color="success"
        fill="solid"
        (click)="close.emit()">
        <ion-icon name="checkmark-circle-outline" slot="start"></ion-icon>
        Έφτασες
      </ion-button>

      <ion-button
        *ngIf="getPhone()"
        fill="outline"
        color="danger"
        (click)="callNumber()">
        <ion-icon name="call-outline"></ion-icon>
      </ion-button>

      <ion-button fill="outline" color="primary" (click)="shareLocation()">
        <ion-icon name="share-outline"></ion-icon>
      </ion-button>
    </div>
  </div>
</div>
