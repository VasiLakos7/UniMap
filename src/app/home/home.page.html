<ion-header>
  <ion-toolbar color="primary">
    <ion-title>UniMap</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">

  <div slot="fixed" class="search-host">
    <app-search-bar
      [locked]="selectionLocked"
      (destinationSelected)="onDestinationSelected($event)"
      (searchOpenChange)="onSearchOpenChange($event)">
    </app-search-bar>

  </div>

  <div id="map"></div>

  <div *ngIf="showLockOverlay" class="lock-screen">
    <div class="lock-card">Εκτός εμβέλειας</div>
  </div>

  <app-department-popup
    *ngIf="showModal && currentDestination"
    class="popup-overlay"
    [destination]="currentDestination"
    [routeReady]="routeReady"
    [navigationActive]="navigationActive"
    [hasArrived]="hasArrived"
    (navigate)="startNavigation()"
    (cancel)="cancelNavigation()"
    (close)="onPopupClose()">
  </app-department-popup>

</ion-content>
